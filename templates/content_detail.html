<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>{{ content[2] }} - 詳細</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='content_style.css') }}">
</head>
<body>
    <div class="content-detail">
        <h1>{{ content[2] }}</h1>
        <div class="meta">タイプ: {{ content[1] }} | 作者: {{ content[8] }} | 投稿日: {{ content[7] }}</div>

        {% if content[5] %}
            <div class="thumbnail">
                <img src="{{ content[5] }}" alt="thumbnail">
            </div>
        {% endif %}

        <p class="description">{{ content[4] }}</p>

        <!-- AI コメント表示枠 -->
        <div class="ai-comment">
            {% set ai_text = generate_comment(content[2], content[4], content[1]) %}
            <p>{{ ai_text }}</p>
        </div>

        {% if content[1] == 'YouTube' %}
            {% set video_id = content[3].split('v=')[-1].split('&')[0] %}
            <div class="youtube-embed">
                <iframe width="100%" height="400" 
                        src="https://www.youtube.com/embed/{{ video_id }}" 
                        frameborder="0" allowfullscreen></iframe>
                <p><a href="{{ content[3] }}" target="_blank">動画リンクを開く</a></p>
            </div>
        {% elif content[1] == 'News' %}
            <p><a href="{{ content[3] }}" target="_blank">ニュース記事を開く</a></p>
        {% elif content[1] == 'Blog' %}
            <p><a href="{{ content[3] }}" target="_blank">ブログ記事を開く</a></p>
        {% endif %}

        <p>いいね: {{ content[9] }}</p>
        <form class="like-form" action="{{ url_for('like_content', content_id=content[0]) }}" method="post">
            <button type="submit">いいね👍</button>
        </form>

        <a href="{{ url_for('home') }}">← 戻る</a>
    </div>
</body>
</html>
